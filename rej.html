<!-- File: index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>9th Class Registration Form</title>
  <link rel="stylesheet" href="raj.css">
</head>
<body>
  <main class="page">
    <form class="reg-form" id="regForm" novalidate>
      <h1>9th Class Registration Form</h1>

      <div class="row">
        <label for="studentName">Student's Full Name</label>
        <input type="text" id="studentName" name="studentName" required maxlength="100" placeholder="e.g. Rahul Kumar">
      </div>

      <div class="row two-col">
        <div>
          <label for="dob">Date of Birth</label>
          <input type="date" id="dob" name="dob" required>
        </div>

        <div>
          <label for="gender">Gender</label>
          <select id="gender" name="gender" required>
            <option value="">Select</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
        </div>
      </div>

      <div class="row two-col">
        <div>
          <label for="fatherName">Father / Guardian's Name</label>
          <input type="text" id="fatherName" name="fatherName" maxlength="100">
        </div>

        <div>
          <label for="motherName">Mother's Name</label>
          <input type="text" id="motherName" name="motherName" maxlength="100">
        </div>
      </div>

      <div class="row">
        <label for="address">Address</label>
        <textarea id="address" name="address" rows="3" maxlength="300" placeholder="House no, Street, City, PIN"></textarea>
      </div>

      <div class="row two-col">
        <div>
          <label for="previousSchool">Previous School</label>
          <input type="text" id="previousSchool" name="previousSchool" maxlength="150">
        </div>

        <div>
          <label for="admissionNo">Admission / Roll No. (if any)</label>
          <input type="text" id="admissionNo" name="admissionNo" maxlength="30">
        </div>
      </div>

      <div class="row two-col">
        <div>
          <label for="phone">Parent / Guardian Phone</label>
          <input type="tel" id="phone" name="phone" pattern="[0-9]{10}" placeholder="10-digit number" required>
        </div>

        <div>
          <label for="email">Email (optional)</label>
          <input type="email" id="email" name="email" placeholder="example@mail.com">
        </div>
      </div>

      <fieldset class="row subjects">
        <legend>Optional Subjects (choose up to 2)</legend>
        <label><input type="checkbox" name="subjects" value="Computer" /> Computer</label>
        <label><input type="checkbox" name="subjects" value="Sanskrit" /> Sanskrit</label>
        <label><input type="checkbox" name="subjects" value="Music" /> Music</label>
        <label><input type="checkbox" name="subjects" value="Art" /> Art</label>
      </fieldset>

      <div class="row">
        <label for="photo">Upload Photo (optional)</label>
        <input type="file" id="photo" name="photo" accept="image/*">
      </div>

      <div class="row">
        <label class="checkbox-inline"><input type="checkbox" id="declaration" required> I hereby declare that the information given above is true to the best of my knowledge.</label>
      </div>

      <div class="row actions">
        <button type="reset" class="btn btn-secondary">Reset</button>
        <button type="submit" class="btn btn-primary">Submit Registration</button>
      </div>

      <p class="note">* All fields marked required must be filled.</p>
    </form>
  </main>

  <script>
    (function(){
      const form = document.getElementById('regForm');

      form.addEventListener('submit', function(e){
        if(!form.checkValidity()){
          e.preventDefault();
          form.reportValidity();
          return;
        }

        e.preventDefault();
        const data = new FormData(form);
        const obj = Object.fromEntries(data.entries());

        const subjects = Array.from(form.querySelectorAll('input[name="subjects"]:checked')).map(i=>i.value);
        obj.subjects = subjects;

        alert('Registration submitted (demo) â€” open console to see data.');
        console.log('Form data:', obj);
      });

      const subjectChecks = document.querySelectorAll('input[name="subjects"]');
      subjectChecks.forEach(ch => ch.addEventListener('change', ()=>{
        const checked = document.querySelectorAll('input[name="subjects"]:checked');
        if(checked.length > 2){
          ch.checked = false;
          alert('Please select at most 2 optional subjects.');
        }
      }));
    })();
  </script>
</body>
</html>
